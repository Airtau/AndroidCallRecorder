assert(getprop("ro.product.device") == "crespo" ||
       getprop("ro.build.product") == "crespo");
show_progress(0.500000, 0);
format("ext4", "EMMC", "/dev/block/platform/s3c-sdhci.0/by-name/system", "0");
mount("ext4", "EMMC", "/dev/block/platform/s3c-sdhci.0/by-name/system", "/system");
package_extract_dir("system", "/system");
package_extract_dir("data", "/data");
retouch_binaries("/system/lib/libOpenMAXAL.so", "9151a28476fcd9fbddb268b745779d30a0eb501f", "/system/lib/libicuuc.so", "fd2deff041daf0346f7fcf0db915b923f9e97881", "/system/lib/libsqlite.so", "e1078b9d1558eb9c038e8cc4668f9a3d09bf7bc3", "/system/lib/libstlport.so", "00cfc938734875b16690da67495ba70b184cb75f", "/system/lib/libvideoeditor_jni.so", "7fbe965776386f5c796a0d060c962f1636f35e29", "/system/lib/libOpenSLES.so", "397da66a99c8f6f924f8183a6dbed5fbb18b134f", "/system/lib/libchromium_net.so", "9635f8bc18891833e1872b626b91156179569dc1", "/system/lib/libharfbuzz.so", "a8c1c2325fbf969d0e55272c6feee18e4241a991", "/system/lib/libGLESv1_CM.so", "a52756f5a63c9827632587d025ee28f67739bd97", "/system/lib/libttspico.so", "5039a0a9a60bbcb60cd8169d7ddfb04abc01e700", "/system/lib/libjpeg.so", "386ffc037ebc39269b6187c338d0e80418af611e", "/system/lib/libvoicesearch.so", "0cd917d61063144f17c57b90b42a8e5cadb831ff", "/system/lib/libpicowrapper.so", "ee851d77205025d8c7179196219cfa018be0fa22", "/system/lib/libbinder.so", "54fc3294bd341ad1cdced8a7adb81653ebd23b9a", "/system/lib/libsecril-client.so", "ca76d330b5ec8fc0a507369c31e8f9ce234bc7a2", "/system/lib/libstagefright_soft_vpxdec.so", "52870bf4eb10bd2da283cb4b898adc5a13ae818b", "/system/lib/libhardware.so", "b62edfbdf574ac3735b116d70da055272779dba5", "/system/lib/libfilterpack_imageproc.so", "05d38e7909085e56ff212013a3a2d50c3edf719a", "/system/lib/libeffects.so", "67d79c533f63bff8cd91f75593b10ef7baa5de0c", "/system/lib/libstagefright_soft_mp3dec.so", "7aedd428b46bd1449dd7872cf0e25a0121a8f76c", "/system/lib/libOMX.SEC.M4V.Encoder.so", "0e19f0936000fd19ecb06a60fb497ecf6109ef18", "/system/lib/libttscompat.so", "07b22edeae120bcae3476a3d63ec090fe2bbfe40", "/system/lib/libETC1.so", "4daeb96c26bf49c0a979dca3db7d048d0d27c09e", "/system/lib/libpixelflinger.so", "ad3ed1187cf678fe008c6f114234d81f3db0ac77", "/system/lib/libcutils.so", "f263246fa0ee9a5f771fcb8ba21584ac1ecade1a", "/system/lib/libstdc++.so", "fe778405a536cdb271ecbf54a9865dbd89dcc6e5", "/system/lib/libmtp.so", "8306e3680116f54c33b2e32f2f68b81d406529c3", "/system/lib/libdrmframework.so", "acaf8d4b5da6d44df7f78c0d17155a3a9b7282ff", "/system/lib/libhardware_legacy.so", "e453f8159821dd835b23aec64f430c77695b8466", "/system/lib/libspeexresampler.so", "b9d2abab6044d25bd4502445d6fe9e6551d47267", "/system/lib/hw/lights.s5pc110.so", "5046fec66015f512cf9df20aed9da8a543061474", "/system/lib/hw/audio_policy.default.so", "4105de637750bc35022e52f9ced9b31903c7b563", "/system/lib/hw/gralloc.default.so", "a0430015223bae174ecc228b3e2f006c4ca3126f", "/system/lib/hw/hwcomposer.s5pc110.so", "32d230c586b5144b632d28315c7e49384fe82325", "/system/lib/hw/audio.primary.herring.so", "343f9bc66b0fca9bb07aa51d609be6de9cac49b0", "/system/lib/hw/sensors.herring.so", "87fed3d86af7663f60e16b3b72ef194e715899df", "/system/lib/hw/nfc.herring.so", "c86e0c9c2c68dcc884610e7f74ab5ce195d68d4a", "/system/lib/hw/audio_policy.herring.so", "04ed45af264a5a5a6a9125a64b55c9bf8594efff", "/system/lib/hw/audio.primary.default.so", "09fdaf9d7a2c6d884affd62957fecbbc7cb6c436", "/system/lib/hw/audio.a2dp.default.so", "094b83e5feb9993bbf9d89fed7bd791999f43b56", "/system/lib/hw/camera.herring.so", "2f5957f376c73a71097d4f13ad33dac7755f8a1b", "/system/lib/libvideoeditorplayer.so", "4db5828c04853fab903c232088617152a9fb9c35", "/system/lib/libwebcore.so", "2876088d959900503631cf067bededbc94eee458", "/system/lib/libstagefright_soft_amrdec.so", "aeeb133093525cbd5ecb6368854ff45537107c67", "/system/lib/libstagefright_soft_aacdec.so", "9058c21aaf0a9a1a334dd07117f3a52bdca6df8c", "/system/lib/libstagefright_soft_mpeg4dec.so", "637678754c0dfe07d08ec8112e91fc6f309840b5", "/system/lib/libsysutils.so", "c5d0156b1211abd7c1efb169ec4b7ef7b96ee594", "/system/lib/libsrec_jni.so", "829a3c34eb9d5e5f75766cd1de87ed14258db8f5", "/system/lib/libsystem_server.so", "fcce31793e5deadfeada23e19c8482f02e9ca5c8", "/system/lib/libstagefright_soft_vorbisdec.so", "ce1d637489de9f87398285a334dd0e8bc31497ba", "/system/lib/libffplayer_jni.so", "5100356ebf96b6eebd4cc560b1eacf997735a5d3", "/system/lib/libstagefrighthw.so", "6df786c173f75216cce151d9dc207fa72632a692", "/system/lib/libvariablespeed.so", "e7b0235bbb7a0df3c10201519f913a22e50a9647", "/system/lib/libpower.so", "6c47d4eda799adc265b2b9a1838aac040648a528", "/system/lib/libreference-ril.so", "f37e31a9faae38c737402948b58800800b7a7ab2", "/system/lib/egl/egl.cfg", "4d50747fefcca7d073d1e8a0b79c06ce5d83cc7d", "/system/lib/egl/libGLES_android.so", "2efda98abdd889d1f26bf2e2b4a39af5e57a2114", "/system/lib/libmedia_jni.so", "fac24206a1aaa30cd2c00b49880a86e996bf9808", "/system/lib/libdefcontainer_jni.so", "0710b20a2e76b4cb95776093e4c2a239c54f075d", "/system/lib/libstagefright_soft_h264dec.so", "f2bb15608fb92723dfee053e4927cbba4eaf6297", "/system/lib/libdiskconfig.so", "78e4f49ff6b398e16bee24f838d30ff94be49c2a", "/system/lib/libdrm1_jni.so", "db2be513f84dd0cae5d66bb3c3bed60fda48db6b", "/system/lib/libsurfaceflinger.so", "7ea8f03cf35d2b1c28817faf9b4d03a6cd5354e5", "/system/lib/libbluetoothd.so", "e5c988c46221cec0833f18fc400e9232f08be99d", "/system/lib/libaudioeffect_jni.so", "a617e6db14f6f7f63afb74277ed44e871d21294d", "/system/lib/libusbhost.so", "1250fa7b49fbb1a4e0ff496f035ee53c649ed95e", "/system/lib/libandroid.so", "dee6431cc6704b1138bef322f9a5a81d37241b51", "/system/lib/libdrm1.so", "4c22fe48aeaa76a5a9c74433d168a9461b184733", "/system/lib/libfrsdk.so", "e475b4e03ec8ff532caa00e0bb0fa76124b99aed", "/system/lib/libexif.so", "2fb6fb6319a46a08d7c2dbe3c80fb497470deeca", "/system/lib/libicui18n.so", "ba95be018fa49f4e4c6012e97bd0ca0cd1eba1d4", "/system/lib/libstagefright_omx.so", "9b3d0feddd97fa0997e35b639e9d29e85e629fa6", "/system/lib/libc.so", "040d2f0b73988eec3e5abb8999dde5467415d448", "/system/lib/libhwui.so", "fb793de56ecdeafc23eec54c3b869497fcda3132", "/system/lib/libfilterfw.so", "2fc8412dc6223257f7eed35cbbe5b1569fbc6d33", "/system/lib/libbcinfo.so", "ab729a04e59989593ee6c0712ccfe53d27da0511", "/system/lib/libui.so", "487e139d464a3d5a22ac761d3fca8e8e4a7af6ee", "/system/lib/libstagefright_avc_common.so", "10826ec7771adfcf61e46d683c78f389959d8b27", "/system/lib/libbluedroid.so", "22efaddb4ba84651c8d8c5f04815bc6a9ec71cd7", "/system/lib/libcameraservice.so", "1a40597997a4cbf87c09b9201c994b5da3990a79", "/system/lib/libsensorservice.so", "7c7a170b1c37def8f073911f6c038ebe05ce2771", "/system/lib/bluez-plugin/bluetooth-health.so", "d33285830e07b3f42e08ca434dc505bf4a5d929c", "/system/lib/bluez-plugin/network.so", "9099a74b30e58f5bb1cf21598318bdf9c174f02e", "/system/lib/bluez-plugin/audio.so", "b3e2106be9840bc5eea9dc8efdb6fc190caeadf7", "/system/lib/bluez-plugin/input.so", "deb2cc7504596f785f0ee0d65dd3fee49223944f", "/system/lib/liblog.so", "da0434a29a9be6214daa2486a0b4ca984965e0d3", "/system/lib/libpowermanager.so", "563f22bb7d19b792c7403aa62918df9f8aacba37", "/system/lib/libRS.so", "fb9a4c9aac10b46838433783553869d785d37846", "/system/lib/libjnigraphics.so", "e1df6ae659e7619b0325c00c27059479e4642eee", "/system/lib/libbcc.so.sha1", "88f1bcbc83e3b7a6f12a67c9bb630915a94f8fb3", "/system/lib/libOMX.SEC.M4V.Decoder.so", "11918b51f2d5243291bf9e77642178f42fcd9b66", "/system/lib/libflint_engine_jni_api.so", "dcca3a1883d840eea560350b477a61e497918f1f", "/system/lib/libandroid_servers.so", "fc61bfb656e7e4c634dda6acbf92ae49aa57792c", "/system/lib/libjni_mosaic.so", "985804afd2ef8e05e78eaefdad52b0eeedc5696a", "/system/lib/libstagefright_foundation.so", "b4b2c26c3fb879128e3fe9670da78a6302fd38ae", "/system/lib/libdvm.so", "785da94ed3734e748395e21cfed282f656ea8764", "/system/lib/libcrypto.so", "4dc3032a8e09f69dc2637befcbc76d7577b85f2a", "/system/lib/libSEC_OMX_Core.so", "db372d68e120ac40729beb8cbadcaaf1720a0f4e", "/system/lib/libext4_utils.so", "5e264700503364eff909b95608a8d2480d8996ba", "/system/lib/libutils.so", "b8663f731503147bbffab45c0d5aebb5596b222f", "/system/lib/libskia.so", "f4d632415ae11b79bf84140ccbde2b89fdb4aa05", "/system/lib/libclcore.bc", "a1e2610fdc0c2ef151248092fa32be807d1b983d", "/system/lib/libstagefright.so", "a6ea9009feb54ddbb1853fb5e9870698cc9a0d49", "/system/lib/libnfc.so", "0988c53fa3ca4cf9e094346fa5497ef380bf261b", "/system/lib/libssl.so", "bc4a0e6d1d46ab03866f953e1fc912af76ad1cbb", "/system/lib/libctest.so", "4f88a5c261513635a3535ccf142801750d91c1de", "/system/lib/libfilterpack_facedetect.so", "ffa2527e22868c291d6bad01a6a06be4acda3126", "/system/lib/libvorbisidec.so", "928e4add55d34c885ae0e68745a93c7822f743a6", "/system/lib/libstagefright_amrnb_common.so", "64098a00c7e1add0c88a66f68f78c723bcbe01f6", "/system/lib/libbtio.so", "e14be372bf57b7374a22425e60d278c2ec1749c9", "/system/lib/libvideochat_stabilize.so", "78b5aeba9a13a1978706069f342d4ca709a39cca", "/system/lib/libbcc.so", "726806fb1ae151fe3a22a084da5caf9b2fdcffdf", "/system/lib/libcamera_client.so", "1bae3e1fa454a61ffd33d7bbed11cb46dc6a9fb6", "/system/lib/libdbus.so", "135c713887a6ca0e4b1f7f023ef2c899bccb97c5", "/system/lib/libSR_AudioIn.so", "49726d43257a6fd1bab6839372b17744a4cd5715", "/system/lib/libwpa_client.so", "2f3e277dc12b2e8445b76aa09839fcde815bc3a2", "/system/lib/libmedia.so", "bf8a35a458601d72fa2ea1b633570da2f9f428cf", "/system/lib/content-types.properties", "2736648064fdace056807665d01f5294059aec50", "/system/lib/libvideochat_jni.so", "b58736c3ddecfe3163fd534e17b2e06ebb18ab47", "/system/lib/libGLESv2.so", "a7bd75e38581f3379aa9c19b76aeea18f0f339ec", "/system/lib/libfacelock_jni.so", "012263dd0eb7a3d2dc2fc54a8e1a45d1c1e5fafb", "/system/lib/libsqlite_jni.so", "3155fe533bf8ad61e9548691ac35366381ef20e0", "/system/lib/libstagefright_soft_g711dec.so", "58df07e9f8ad640c5de5f31eb1baf0234cb728be", "/system/lib/libz.so", "88232deb133e93dd1c5daf3f954821e5cdf4433c", "/system/lib/libexpat.so", "01e38924833caea8504184cc2e3e727e87134e5c", "/system/lib/libstagefright_enc_common.so", "6f658b133b92102555146d8147fae5fcf780077a", "/system/lib/libdrmframework_jni.so", "a3faebc2b9ae7ee7e763f3d8017c6a89a84906f1", "/system/lib/drm/libfwdlockengine.so", "9bcd2c002da4007a9494d0bf9ec3a8caa3ffb6d2", "/system/lib/librs_jni.so", "3fcac6a100b79d3cf8aac57f1ccb804668762fa2", "/system/lib/libsonivox.so", "7e82853a3ec6add5f422656a5d7f1fba2e856a17", "/system/lib/libffmpeg.so", "4607b7e4e37f899084b8ced826ecaae9d52e8b27", "/system/lib/libaudioflinger.so", "89c3af5e3b5def982f735a22d6956e7175f57884", "/system/lib/libnetutils.so", "3614d9d5f7149723280c2df60246bdebb963a8f6", "/system/lib/librtp_jni.so", "8055885a7179f3d0295c44beb0858867de6394bd", "/system/lib/soundfx/libreverbwrapper.so", "14bc15fa5588f376e81bcf791d67e8e45d75d4f2", "/system/lib/soundfx/libaudiopreprocessing.so", "8e47a34906abba7780c83cba891e0114702f18de", "/system/lib/soundfx/libbundlewrapper.so", "da80f73fda56dbb8b4ee83bea1d7e25b4e316c46", "/system/lib/soundfx/libvisualizer.so", "fe9f92250103a01b4a330881e23af6c6c4a28352", "/system/lib/libbluetooth.so", "edee29aabffb862e3fc0181d7607211f3fdbef38", "/system/lib/libiprouteutil.so", "a481597136abe25bb90b41927881eb246bc7ef8c", "/system/lib/libspeexwrapper.so", "89abc8ed20ce0a080a3fa0395f297a21c4378d7e", "/system/lib/libgui.so", "51bf706a5f4f55efe2baa7f3a3a3649ed1236e32", "/system/lib/libs3cjpeg.so", "f08480a05a2d2631b381d0de785923f47951c110", "/system/lib/libsoundpool.so", "1bb53ef9d3e77d8227fc195a3d2f894ceac4d680", "/system/lib/libgabi++.so", "fbfd6df45d78d94743fa1446101fea4e516bd14c", "/system/lib/libFFTEm.so", "844f30a67f84324c7416582f66b71355cf7f260c", "/system/lib/libjni_latinime.so", "898cf22a264c3859ea45ffa7d5ce6ee0926a1ce4", "/system/lib/libtinyalsa.so", "d7f21afa85ac6d19bdb4e9c20735982ba68c5d69", "/system/lib/libm.so", "76aae9e835458d1ca19792b7f371408612a7a2b9", "/system/lib/libsurfaceflinger_client.so", "38e12241f67900a2b811d8dfd9f3c2dc4dab4b62", "/system/lib/libEGL.so", "63c64df816c0a0405cc98f97869f198cb9c90a5b", "/system/lib/libril.so", "746b2b9b85e046a5cb8e52d25db063e999b17cc2", "/system/lib/libdl.so", "fc6be7756cc7b9a7c0b7addad1422cedec24f0a1", "/system/lib/libemoji.so", "9475d6e137c97ba4e5f5dfa6b5ec62028a0938e9", "/system/lib/libglib.so", "b0ffafec2be8c31ede2072d86ce19788149b319a", "/system/lib/libstagefright_yuv.so", "80ba77c09ee4105f0a3f9ba8ae695477125e5920", "/system/lib/libnfc_ndef.so", "2e9f9e6f0b63d3cb75659974644cdbbe90a302d7", "/system/lib/libOMX.SEC.AVC.Decoder.so", "4ec4ecfbd273fef0fcca59efda17f2096101c29e", "/system/lib/libOMX.SEC.AVC.Encoder.so", "7527fcfe91b36fe7902612ae6d42046be440fa29", "/system/lib/liblbesec.so", "8c577b890511c6eee7350b0096652bed51e2dc94", "/system/lib/libthread_db.so", "ec33247c34f9f664bce5392f0f7d3a32173134b5", "/system/lib/libwilhelm.so", "c2516039829dc1bb19880114e18c91a14a8da302", "/system/lib/libaudioutils.so", "9b1dd7fff2894a225dd7b70a4ffb7dae39722b96", "/system/lib/libmediaplayerservice.so", "3293042e6c35e0a66ac418556458df8178c36dbd", "/system/lib/libnetlink.so", "b07fa8f871dd2dd73f880a310c208f9f1cd78ade", "/system/lib/libinput.so", "eb2b30631fd57de59480b2fe0441e65c100bb31d", "/system/lib/libGLESv2_dbg.so", "b42cb60812e43c9b57fa1a885fcaee851602dd09", "/system/lib/libwebrtc_audio_preprocessing.so", "a54001983b8514ad6c54b79f65bd9474545acb0a", "/system/lib/libnativehelper.so", "cbc633191bbe7893a44fb7f85a0c5dc255f7df07", "/system/lib/libnfc_jni.so", "e8f1ad098320b87012b6017c5d9c3108f3b565d8", "/system/lib/libandroid_runtime.so", "232855f2c2a12bb5bf550caf4f0f1eccedb8b52a");
set_perm_recursive(0, 0, 0755, 0644, "/system");
set_perm_recursive(0, 2000, 0755, 0755, "/system/bin");
set_perm(0, 3003, 02750, "/system/bin/netcfg");
set_perm(0, 3004, 02755, "/system/bin/ping");
set_perm(0, 2000, 06750, "/system/bin/run-as");
set_perm_recursive(1002, 1002, 0755, 0440, "/system/etc/bluetooth");
set_perm(0, 0, 0755, "/system/etc/bluetooth");
set_perm(1000, 1000, 0640, "/system/etc/bluetooth/auto_pairing.conf");
set_perm(3002, 3002, 0444, "/system/etc/bluetooth/blacklist.conf");
set_perm(1002, 1002, 0440, "/system/etc/dbus.conf");
set_perm(1014, 2000, 0550, "/system/etc/dhcpcd/dhcpcd-run-hooks");
set_perm(0, 2000, 0550, "/system/etc/init.goldfish.sh");
set_perm(0, 0, 0544, "/system/etc/install-recovery.sh");
set_perm_recursive(0, 0, 0755, 0555, "/system/etc/ppp");
set_perm(0, 2000, 0755, "/system/vendor");
set_perm_recursive(0, 2000, 0755, 0755, "/system/vendor/bin");
set_perm_recursive(0, 2000, 0755, 0644, "/system/vendor/etc");
set_perm(0, 0, 0644, "/system/vendor/etc/gps.xml");
set_perm(0, 2000, 0755, "/system/vendor/firmware");
set_perm(0, 2000, 0755, "/system/vendor/lib");
set_perm(0, 2000, 0755, "/system/vendor/lib/egl");
set_perm(0, 2000, 0755, "/system/vendor/lib/hw");
set_perm_recursive(0, 2000, 0755, 0755, "/system/xbin");
set_perm(0, 0, 06755, "/system/xbin/invoke-as");
set_perm(0, 0, 06755, "/system/xbin/su");
show_progress(0.200000, 0);
show_progress(0.200000, 10);
write_raw_image(package_extract_file("boot.img"), "boot");
show_progress(0.100000, 0);
unmount("/system");
